webpackJsonp([21],{DkYI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("mvHQ"),a("IcnI");var n={name:"all",data:function(){return{defaultLogo:'this.src="http://www.scholat.com/images/uni_logo/nologo.png"',search:"",totalCount:0,list:[],listLoading:!1,listQuery:{pageNum:1,pageRow:10,state:3},applyUnit:{id:"",avatar:"",school_name:"",unit_name:"",college_url:"",chinese_name:"",email:"",phone:"",state:"",update_time:""}}},created:function(){this.getList()},methods:{getImgUrl:function(t,e){return"front"==t?"http://47.106.132.95:2333/images/certificate_front/"+e:"back"==t?"http://47.106.132.95:2333/images/certificate_back/"+e:"working"==t?"http://47.106.132.95:2333/images/certificate_working/"+e:"http://ww2.sinaimg.cn/large/006tNc79gy1g4i53qvv3kj30kn0eaacq.jpg"},getPic:function(t,e){return null!==t&&""!==t?"http://47.106.132.95:2333/images/unit_logo/"+t:"http://www.scholat.com/images/uni_logo/"+e+".png"},getList:function(){var t=this;this.hasScholatPerm("unit:list")?(this.listLoading=!0,this.api({url:"/scholat/apply/getInfo",method:"get",params:this.listQuery}).then(function(e){t.listLoading=!1,t.list=e.list,t.totalCount=e.totalCount,t.totalUpdate=e.totalUpdate}).catch(function(t){})):this.$message.error("没有list权限")},handleSizeChange:function(t){this.listQuery.pageRow=t,this.handleFilter()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},getIndex:function(t){return(this.listQuery.pageNum-1)*this.listQuery.pageRow+t+1},showDetail:function(t){var e=this;this.$confirm("确定?","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){e.$message.warning("id是:"+t+" ...但是还没写哦，需要等等QAQ")})}},computed:{}},i=a("XyMi");var s=function(t){a("n3qt")},o=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",[a("el-form-item",[a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("div",{staticStyle:{clear:"both"}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{textContent:t._s(t.getIndex(e.$index))}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"图标",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:t.getPic(e.row.logo_url,e.row.school_name),onerror:t.defaultLogo,height:"86"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"单位",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"label-describe"},[t._v("学校")]),a("span",[t._v(t._s(e.row.school_name))])]),t._v(" "),a("div",[a("span",{staticClass:"label-describe"},[t._v("学院")]),a("span",[t._v(t._s(e.row.unit_name))])]),t._v(" "),a("div",[a("span",{staticClass:"label-describe"},[t._v("school")]),a("span",[t._v(t._s(e.row.school_eng))])]),t._v(" "),a("div",[a("span",{staticClass:"label-describe"},[t._v("unit")]),a("span",[t._v(t._s(e.row.unit_eng))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"官网",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("a",{staticStyle:{color:"deepskyblue"},attrs:{href:e.row.college_url}},[t._v(t._s(e.row.college_url))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"高级管理员信息",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"label-describe"},[t._v("用户名")]),a("span",[t._v(t._s(e.row.username))])]),t._v(" "),a("div",[a("span",{staticClass:"label-describe"},[t._v("昵称")]),a("span",[t._v(t._s(e.row.nickname))])]),t._v(" "),a("div",[a("span",{staticClass:"label-describe"},[t._v("角色")]),a("span",[t._v(t._s(e.row.roleName))])]),t._v(" "),a("div",[a("span",{staticClass:"label-describe"},[t._v("状态")]),a("span",[t._v(t._s(e.row.state))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"申请时间",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.update_time))])]}}])}),t._v(" "),t.hasScholatPerm("unit:update")?a("el-table-column",{attrs:{fixed:"right",align:"center",label:"管理"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){t.showDetail(e.row.id)}}},[t._v("设置有效期")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.showDetail(e.row.id)}}},[t._v("加入黑名单")])]}}])}):t._e()],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.listQuery.pageNum,"page-size":t.listQuery.pageRow,total:t.totalCount,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},[],!1,s,"data-v-27343eac",null);e.default=o.exports},e5bA:function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,"\n.label-describe[data-v-27343eac] {\n  font-size: 16px;\n  font-weight: 400;\n  background: #eaeaea;\n  padding: 2px 12px;\n  border-radius: 19px;\n  color: #818181;\n}\n.certificate-img[data-v-27343eac] {\n  width: 130px;\n  margin: 8px;\n  border-radius: 14px;\n  -webkit-box-shadow: 0 0 14px 6px antiquewhite;\n          box-shadow: 0 0 14px 6px antiquewhite;\n}\n","",{version:3,sources:["/Users/achunorigin/project/A_Postgraduate/persona-teacher/persona-teacherHome-front/src/views/scholat/unit/all.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,oBAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,aAAa;EACb,YAAY;EACZ,oBAAoB;EACpB,8CAA8C;UACtC,sCAAsC;CAC/C",file:"all.vue",sourcesContent:["\n.label-describe[data-v-27343eac] {\n  font-size: 16px;\n  font-weight: 400;\n  background: #eaeaea;\n  padding: 2px 12px;\n  border-radius: 19px;\n  color: #818181;\n}\n.certificate-img[data-v-27343eac] {\n  width: 130px;\n  margin: 8px;\n  border-radius: 14px;\n  -webkit-box-shadow: 0 0 14px 6px antiquewhite;\n          box-shadow: 0 0 14px 6px antiquewhite;\n}\n"],sourceRoot:""}])},n3qt:function(t,e,a){var n=a("e5bA");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("23e62a7c",n,!0)}});